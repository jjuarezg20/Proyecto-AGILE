<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tienda - Shop</title>
    <link rel="stylesheet" href="CSS/shop.css">
    <link rel="stylesheet" href="CSS/nav_bar.css">

    <style>
        .membership-notification {
    padding: 15px 20px;
    text-align: center;
    font-weight: bold;
    display: none;

    top: 0;
    left: 0;
    width: 100%;
    z-index: 1000;
    font-size: 16px;
    line-height: 1.5;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    transition: background-color 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    border-bottom: 3px solid rgba(0,0,0,0.1);
}

.membership-notification a {
    color: white;
    text-decoration: underline;
    margin-left: 15px;
    font-weight: bold;
    transition: color 0.3s ease;
}

.membership-notification a:hover {
    color: #f0f0f0;
    text-decoration: none;
}
    </style>
</head>
<body>
    <header>
        <!-- Top navigation bar -->
        <div class="top-nav">
            <div class="left">
                <img src="IMG/logo.jpg" alt="Logo" class="logo">
            </div>
            <div class="search-bar">
                <input type="text" placeholder="Search for Products, brands and more...">
                <button><i class="fa fa-search"></i></button>
            </div>
            <div class="right">
                <span class="account"><i class="fa fa-user"></i> Account:</span>
                <span id="userDisplay" style="display: none; color: white; margin-right: 15px;"></span>
                <button id="loginButton" class="login-btn" onclick="window.location.href='Login.html'">Login</button>
            </div>
            
        </div>

        <!-- Bottom navigation bar -->
        <nav class="bottom-nav">
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="shop.html">Shop</a></li>
                <li><a href="Buy_Membership.html">Membership</a></li>
                <li><a href="recent_purchases.html">Recent Purchases</a></li>
                <li><a href="paginaPersonal.html">My Account</a></li>
            </ul>
        </nav>
</header>
    <!-- Añadir esta notificación justo después del header -->
    <div id="membershipNotification" class="membership-notification">
        <!-- El contenido se llenará dinámicamente con JavaScript -->
    </div>
    
    <main>
        <!-- Banner principal -->
        <section class="banner">
            <div class="banner-content">
                <h1>Get Ready for Christmas!</h1>
                <p>Find the best Christmas accessories to decorate your home</p>
                <button onclick="window.location.href='pages/productos_navidenos.html'">See more</button>
            </div>
            <div class="banner-image"> 
                <img src="IMG/banerNavideño.png" alt="Accesorios Navideños">
            </div>
        </section>

        <!-- Sección de categorías destacadas -->
        <section class="categories">
            <h2>Categories</h2>
            <div class="category-grid">
                <!-- Enlace a la página de Alimentos -->
                <div class="category-item">
                    <a href="pages/alimentos.html">
                        <img src="IMG/Alimentos.png" alt="Alimentos">
                        <p>Food</p>
                    </a>
                </div>

                <!-- Enlace a la página de Hogar -->
                <div class="category-item">
                    <a href="pages/hogar.html">
                        <img src="IMG/hogar.png" alt="Hogar">
                        <p>Home</p>
                    </a>
                </div>

                <!-- Otras categorías sin enlace -->
                <div class="category-item">
                    <a href="pages/licor.html">
                    <img src="IMG/licor.png" alt="Licor, Cerveza y Vino">
                    <p>Liquor, Beer, and Wine</p>
                </a>
                </div>
                <div class="category-item">
                    <a href="pages/salud.html">
                    <img src="IMG/Salud Belleza.png" alt="Salud y Belleza">
                    <p>Health and Beauty</p>
                </a>
                </div>
                <div class="category-item">
                    <a href="pages/bebe.html">
                    <img src="IMG/bebe.png" alt="Bebé">
                    <p>Baby</p>
                </a>
                </div>
                <div class="category-item">
                    <a href="pages/mascotas.html">
                    <img src="IMG/mascotas.png" alt="Mascotas">
                    <p>Pets</p>
                </a>
                </div>
            </div>
        </section>

        <!-- Sección de productos destacados -->
        <section class="products">
            <h2>Featured Products</h2>
            <div class="product-grid">
                <div class="product-item">
                    <img src="IMG/Bocionajbl.png" alt="Bocina JBL Charge 5">
                    <p>JBL Speaker Charge 5 40Watts</p>
                    <p class="price">$49.99</p>
                    <button class="btn-buy" onclick="window.location.href='pages/bocina_jbl.html'">Comprar</button>
                </div>
                <div class="product-item">
                    <img src="IMG/SecadoraDyson.png" alt="Secadora Dyson">
                    <p>Dyson SuperSonic gold/blue</p>
                    <p class="price">$625.99</p>
                    <button class="btn-buy" onclick="window.location.href='pages/secadora_dyson.html'">Comprar</button>
                </div>
                <div class="product-item">
                    <img src="IMG/Ps5.png" alt="PlayStation 5">
                    <p>PlayStation®5 console</p>
                    <p class="price">$444.99</p>
                    <button class="btn-buy" onclick="window.location.href='pages/ps5.html'">Comprar</button>
                </div>
                <div class="product-item">
                    <img src="IMG/leggins.jpg" alt="Leggins CRZ YOGA">
                    <p>CRZ YOGA Butterluxe High Waisted Lounge Legging 25"</p>
                    <p class="price">$14.99</p>
                    <button class="btn-buy" onclick="window.location.href='pages/leggins.html'">Comprar</button>
                </div>
                <div class="product-item">
                    <img src="IMG/onedirection.jpg" alt="Cepillo One Direction">
                    <p>One Direction Singing Battery Powered Tooth Brush</p>
                    <p class="price">$9.99</p>
                    <button class="btn-buy" onclick="window.location.href='pages/cepillo_dientes.html'">Comprar</button>
                </div>
                <div class="product-item">
                    <img src="IMG/colageno.jpg" alt="Colágeno en Polvo">
                    <p>Micro Ingredients Multi Collagen Protein Powder, 2 Pounds</p>
                    <p class="price">$30.60</p>
                    <button class="btn-buy" onclick="window.location.href='pages/colageno.html'">Comprar</button>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <p>&copy; 2024 Members Club. Todos los derechos reservados.</p>
    </footer>

    <script>
        function redirectToPayment() {
            window.location.href = 'pago.html';
        }

        document.addEventListener('DOMContentLoaded', function() {
        // Obtener los datos del usuario del localStorage
        const userData = JSON.parse(localStorage.getItem('userData'));
        
        if (userData && userData.nombre) {
            // Si hay un usuario logueado, mostrar su nombre y ocultar el botón de login
            document.getElementById('userDisplay').textContent = userData.nombre;
            document.getElementById('userDisplay').style.display = 'inline';
            document.getElementById('loginButton').style.display = 'none';

            // Mostrar notificación de membresía
            mostrarNotificacionMembresia(userData);
        }
    });

    function mostrarNotificacionMembresia(userData) {
        // Convertir la fecha de expiración a objeto Date
        const partesFecha = userData.fechaExpiracion.split('/');
        const fechaExpiracionObj = new Date(
            parseInt(partesFecha[2]),  // año
            parseInt(partesFecha[1]) - 1,  // mes (0-indexed)
            parseInt(partesFecha[0])  // día
        );

        // Obtener la fecha actual
        const fechaActual = new Date();

        // Calcular la diferencia en milisegundos
        const diferenciaTiempo = fechaExpiracionObj.getTime() - fechaActual.getTime();

        // Convertir a días
        const diasRestantes = Math.ceil(diferenciaTiempo / (1000 * 3600 * 24));

        // Obtener el elemento de notificación
        const notificacion = document.getElementById('membershipNotification');
        
        // Mostrar notificación
        notificacion.style.display = 'block';

        // Personalizar mensaje según el tipo de membresía y días restantes
        let mensajeNotificacion = `Your ${userData.membresia} Membership is active. `;

        if (diasRestantes > 0) {
            mensajeNotificacion += `${diasRestantes} days remaining. `;
        } else {
            mensajeNotificacion += `Membership has expired. `;
        }

        mensajeNotificacion += `Renew for the best prices and benefits!`;

        // Establecer el texto de la notificación
        notificacion.innerHTML = `
            ${mensajeNotificacion} 
            <a href="paginaPersonal.html" style="color: white; text-decoration: underline; margin-left: 10px;">Renew Now</a>
        `;

        // Establecer estilos según la proximidad de la expiración
        if (diasRestantes <= 15) {
            notificacion.style.backgroundColor = '#E74C3C';  // Rojo intenso para urgente
            notificacion.style.color = 'white';
        } else if (diasRestantes <= 30) {
            notificacion.style.backgroundColor = '#F39C12';  // Naranja para próximo a expirar
            notificacion.style.color = 'white';
        } else {
            notificacion.style.backgroundColor = '#2980B9';  // Azul para membresía vigente
            notificacion.style.color = 'white';
        }
    }
    </script>
</body>
</html>
